发生内存泄漏大部分是由于程序代码导致的，排查方法一般是使用 visualVM 进行heap dump，查看占用空间比较多的 class 对象，然后检查该对象的instances 以及 reference引用，最终定位到程序代码。
如果堆内存比较大，进行head dump 产生的资源消耗不可接受，可以尝试使用轻量级的jmap生成堆转储快照分析，思路与使用可视化工具一样
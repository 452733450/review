定时任务
交易数据报表连续多次执行失败
查看日志
定位到这个日志的上下文
查交易数据那条sql有问题
explain
 type = index
 extra = Using where;Using index
 数据是40几万条
 看的出来是扫描了整个索引锁，说明复合索引没用的上
 交易表里复合索引建的是公司编号，产品类型，交易类型，报表查询交易数据where条件是不包含公司编号的
 不符合最左匹配原则
 所以没走索引
 增加新的索引
 再explain
 type = ref 表示查询使用了非唯一性索引来定位某个值的引用
 row也是几千行，说明复合索引生效了